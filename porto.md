## ë³€ìˆ˜ë“¤ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„° ì •ë¦¬

forë¬¸ ì‚¬ìš©í•´ ë³€ìˆ˜ì˜ ì—­í• /ë°ì´í„° ìœ í˜•/ë³´ì¡´ ì—¬ë¶€/dtype/ì¹´í…Œê³ ë¦¬ë¥¼ ë¶„ë¥˜í•œ metadata ìƒì„±

<br/>

```py
data = [] #ì—¬ê¸°ì— ê° ë³€ìˆ˜ì˜ ë©”íƒ€ì •ë³´ë¥¼ ë‹´ì„ ë”•ì…”ë„ˆë¦¬ í•˜ë‚˜ì”© ì¶”ê°€

#  ë³€ìˆ˜ ì—­í•  êµ¬ë¶„
if feature == 'target':
    use = 'target'
elif feature == 'id':
    use = 'id'
else:
    use = 'input'


# ë³€ìˆ˜ ë°ì´í„° ìœ í˜•
if 'bin' in feature or feature == 'target':
    type = 'binary'  # 0/1 ê°™ì€ ì´ì§„ê°’
elif 'cat' in feature or feature == 'id':
    type = 'categorical'  # ë²”ì£¼í˜• ë³€ìˆ˜
elif trainset[feature].dtype == float or isinstance(trainset[feature].dtype, float):
    type = 'real'  # ì‹¤ìˆ˜í˜•
elif trainset[feature].dtype == int:
    type = 'integer'  # ì •ìˆ˜í˜•

# ë³´ì¡´ ì—¬ë¶€ (preserve)
preserve = True
if feature == 'id':
    preserve = False # ë¶„ì„ì— í•„ìš”í•œ ë³€ìˆ˜ë§Œ ë³´ì¡´í• ê±´ë° idëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë¶„ì„ì— ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ false

# dtype
dtype = trainset[feature].dtype #íŒë‹¤ìŠ¤ì˜ ì›ë˜ ë°ì´í„° íƒ€ì… ì‚¬ìš©

# category
if 'ind' in feature:
    category = 'individual' #ì‚¬ëŒ
elif 'reg' in feature:
    category = 'registration' #ë“±ë¡ ì •ë³´
elif 'car' in feature:
    category = 'car' #ìë™ì°¨ ê´€ë ¨
elif 'calc' in feature:
    category = 'calculated' #ê³„ì‚°ëœ ê°’

# metadata ìƒì„±
feature_dictionary = {
    'varname': feature,
    'use': use,
    'type': type,
    'preserve': preserve,
    'dtype': dtype,
    'category' : category
}
data.append(feature_dictionary) # ëª¨ë“  ë³€ìˆ˜ë¥¼ í•˜ë‚˜ì”© ë”•ì…”ë„ˆë¦¬ë¡œ ë§Œë“¤ì–´ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€

metadata = pd.DataFrame(data, columns=['varname', 'use', 'type', 'preserve', 'dtype', 'category']) #íŒë‹¤ìŠ¤ DataFrameìœ¼ë¡œ ë§Œë“¤ê³ 
metadata.set_index('varname', inplace=True) #varnameì„ ì¸ë±ìŠ¤ë¡œ ì„¤ì •
```
- varnameì„ ì¸ë±ìŠ¤ë¡œ ì„¤ì •í•œë‹¤ëŠ” ê²ƒì€<br/>
![prac8](./image/prac8.png)<br/>
ì´ë ‡ê²Œ íŒë‹¤ìŠ¤ì—ì„œëŠ” ìë™ìœ¼ë¡œ í–‰ì˜ ë²ˆí˜¸ë¥¼ 0, 1, 2...ë¡œ ë¶™ì´ëŠ”ë° <br/>
![prac9](./image/prac9.png)<br/>
ì¸ë±ìŠ¤ë¥¼ varnameìœ¼ë¡œ ì„¤ì •í•˜ë©´ varname ì—´(id, target, feature1 ë“±..)ì´ 0, 1, 2 ëŒ€ì‹  í–‰ì˜ ë²ˆí˜¸ë¡œ ì“°ì´ëŠ” ê²ƒ!<br/>
ë‹¤ì‹œ ë§í•´, í–‰ì˜ ì´ë¦„(label)ì´ 'id', 'target', 'feature1' ë“±ì´ ëœë‹¤.

<br/>
<br/>

```py
metadata[(metadata.type == 'categorical') & (metadata.preserve)].index
# type == 'categorical' : ë²”ì£¼í˜• ë³€ìˆ˜ë§Œ ì„ íƒ
# preserve == : True ë¶„ì„ì— ì‚¬ìš©í•  ë³€ìˆ˜ë§Œ ì„ íƒ
# .index : í•´ë‹¹ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë³€ìˆ˜ ì´ë¦„ë§Œ ì¶”ì¶œ
```

- ì´ë ‡ê²Œ í•˜ë©´ ë‚˜ì¤‘ì— ì›í•˜ëŠ” ë³€ìˆ˜ë§Œ ì‰½ê²Œ ì„ íƒ/í•„í„°ë§í•  ìˆ˜ ìˆìŒ <br/>
ğŸ’¡ ì´ë ‡ê²Œ metadata í”„ë ˆì„ì„ ë§Œë“¤ì–´ë‘ë©´ ì…€í”„ ìë™í™” ë„êµ¬ë¥¼ ë§Œë“œëŠ” ì…ˆ! ë‹¤ë¥¸ ë°ì´í„°ì…‹ì—ì„œë„ ìœ ìš©í•˜ë‹¤ <br/>
íŠ¹íˆ *ë³€ìˆ˜ê°€ 30ê°œ ì´ìƒì¼ ë•Œ*, *ì—¬ëŸ¬ ë°ì´í„°ì…‹ì— ê³µí†µì ìœ¼ë¡œ ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ì„ ì§œì•¼í•  ë•Œ*, *EDA, ëª¨ë¸ ì‹¤í—˜ì„ ë°˜ë³µì ìœ¼ë¡œ í•  ë•Œ* ìœ ìš©í•¨
<br/>
<br/>
<br/>

## íŠ¹ì • ë³€ìˆ˜ë§Œ ê³±í•˜ê±°ë‚˜ ì œê³±í•´ì„œ ë³€í™˜í•˜ê¸°
 ì‹¤ìˆ˜(float).describe ê²°ê³¼ ë³´ê³  
 
 ```py
 (pow(trainset['ps_car_12']*10,2)).head(10)

 (pow(trainset['ps_car_15'],2)).head(10)
 ```

 - 'ps_car_12'ëŠ” 10ì„ ê³±í•œ í›„ ì œê³±, 'ps_car_15'ëŠ” ì œê³±í•¨. ì´ìœ ëŠ”?ğŸ¤”
    - ps_car_12: ìì—°ìˆ˜ ì œê³±ê·¼ì„ 10ìœ¼ë¡œ ë‚˜ëˆˆ ê°’
        - ì‹¤ì œ ìì—°ìˆ˜í˜• ë°ì´í„°ë¥¼ âˆš ì—°ì‚° + 10ìœ¼ë¡œ ë‚˜ëˆˆ ê²ƒ.
        - ì˜ˆ: ì°¨ëŸ‰ ë§ˆë ¥ ìˆ˜, ë¬´ê²Œ, ì—°ì‹ ë“± ì‹¤ìˆ˜í˜•ì¸ë° ë„ˆë¬´ í° ê°’ì„ ì¤„ì´ê¸° ìœ„í•´ ë³€í˜•í–ˆì„ ê°€ëŠ¥ì„±
    > ps_car_12ëŠ” âˆšê°’ì´ë‹ˆê¹Œ â†’ ì œê³±í•˜ë©´ ì›ë˜ ìì—°ìˆ˜ ê°’ ë³µì›<br/> âˆš4 / 10 = 0.2 â†’ ì œê³±í•˜ë©´ 0.04.<br/>
    ê·¸ëŸ¬ë‹ˆê¹Œ ì œê³±í•˜ê³  10ì„ ê³±í•˜ë©´ ì›ë˜ê°’ì„ ê°„ì ‘ì ìœ¼ë¡œ ë³µì› ê°€ëŠ¥

    <br/>

  - ps_car_15: 
    - ì´ê±´ ì •ìˆ˜ë¥¼ ë‹¨ìˆœíˆ âˆš ì—°ì‚°ë§Œ í•œ ê°’ì´ë¼ ì¹´í…Œê³ ë¦¬ì ì¸ ìˆ«ì íŠ¹ì„±ì´ ìˆê±°ë‚˜,
    - ì•„ë‹ˆë©´ ì–´ë–¤ ìˆœì„œí˜• íŠ¹ì„±ì— ë£¨íŠ¸ë§Œ ì”Œìš´ ì¼€ì´ìŠ¤ì¼ ìˆ˜ë„ ìˆìŒ
    > âˆš ìì—°ìˆ˜ë‹ˆê¹Œ â†’ ì œê³±í•˜ë©´ ì •ìˆ˜ë¡œ ë³µì›ë¨!
<br/>
<br/>

 ğŸ’¡ ps_car_12, ps_car_15ëŠ” ì›ë˜ ìì—°ìˆ˜ ê°’ì—ì„œ âˆš ì—°ì‚°ì„ ê±°ì³ ë³€í˜•ëœ ê²ƒì´ê³ , ë¶„ì„ìëŠ” **ì´ê±¸ ì œê³±í•¨ìœ¼ë¡œì¨ ì›ë˜ ì˜ë¯¸ ìˆëŠ” ì •ìˆ˜ë¡œ ë³µì›í•˜ë ¤ í•œ ê²ƒ**


â¡ï¸ ì´ì™¸ì— *10ìœ¼ë¡œ ìŠ¤ì¼€ì¼ í‚¤ìš°ê³ , ì œê³±ìœ¼ë¡œ ë¹„ì„ í˜• ë³€í™˜(ex. ì‘ì€ ì°¨ì´ê°€ ë” í° ì˜í–¥ì„ ë¯¸ì¹˜ê²Œ)ê¹Œì§€ í•´ì„œ ë³€ìˆ˜ ì˜í–¥ë ¥ ê°•ì¡°í•˜ê¸°ë„ í•¨!

<br/>
<br/>
<br/>

## Smoothing ê¸°ë²•
